event based simulation using Kotlin, coroutines, TornadoFX
event based replication using Kotlin, coroutines, TornadoFX